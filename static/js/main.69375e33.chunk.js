(this.webpackJsonpemployeemanagement=this.webpackJsonpemployeemanagement||[]).push([[0],{39:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(30),o=n.n(a),r=(n(39),n(13)),l=n(3),i=n(9),d=n.n(i),j=n(12),m=n(6),b=n(31),p=Object(b.a)(),h=n(70),O=n(0);function u(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),n=t[0],s=t[1];function a(){return(a=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o=function(){return fetch("https://employeeBackend.nandhagopalmadd.repl.co/Getdata",{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("JSON: "),console.log(e),s(e)}))};return Object(c.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Dashboard"}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,size:"md",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Employee ID"}),Object(O.jsx)("th",{children:"Employee Name"}),Object(O.jsx)("th",{children:"Employee Designation"}),Object(O.jsx)("th",{children:"Employee DQ"}),Object(O.jsx)("th",{children:"Link"})]})}),Object(O.jsx)("tbody",{children:n.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.EmpId}),Object(O.jsx)("td",{children:e.EmpName}),Object(O.jsxs)("td",{children:[" ",e.EmpDesignation," "]}),Object(O.jsxs)("td",{children:[" ",e.EmployeeDQ," "]}),Object(O.jsxs)("td",{children:[" ",Object(O.jsx)(r.b,{className:"btn btn-success",to:"/EmpDetails/"+e.EmpId,children:"View"})]})]},e.EmpId)}))})]})})]})}var x=n(10),f=n.n(x);function g(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://employeeBackend.nandhagopalmadd.repl.co/Getdata");case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"AdminDashboard"}),Object(O.jsx)("div",{className:"btn btn-success",onClick:v,children:"Add Employee"}),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,size:"md",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Employee ID"}),Object(O.jsx)("th",{children:"Employee Name"}),Object(O.jsx)("th",{children:"Employee Designation"}),Object(O.jsx)("th",{children:"Employee DQ"}),Object(O.jsx)("th",{children:"Link"})]})}),Object(O.jsx)("tbody",{children:n.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.EmpId}),Object(O.jsx)("td",{children:e.EmpName}),Object(O.jsxs)("td",{children:[" ",e.EmpDesignation," "]}),Object(O.jsxs)("td",{children:[" ",e.EmployeeDQ," "]}),Object(O.jsxs)("td",{children:[" ",Object(O.jsx)(r.b,{className:"btn btn-success",to:"/EmpDetails/"+e.EmpId,children:"View"})]})]},e.EmpId)}))})]})})]})}function v(){p.push("/AddEmployee"),window.location.reload()}n(65);function E(){var e,t=Object(c.useState)([]),n=Object(m.a)(t,2),s=n[0],a=n[1],o=Object(l.g)();return Object(c.useEffect)((function(){f.a.get("https://employeeBackend.nandhagopalmadd.repl.co/Getdata/"+o.id).then((function(t){e=new Date(t.data.EmpDOB).toLocaleDateString(),t.data.EmpDOB=e,a(t.data)}))}),[]),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"container align-items-center",children:[Object(O.jsx)("h2",{className:"float-center",children:"Employee details"}),Object(O.jsx)("br",{}),Object(O.jsxs)("table",{className:"table",children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee ID"}),Object(O.jsx)("td",{children:s.EmpId})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee Name"}),Object(O.jsx)("td",{children:s.EmpName})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee Designation"}),Object(O.jsx)("td",{children:s.EmpDesignation})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee MailID"}),Object(O.jsx)("td",{children:s.EmpMail})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee Contact Number"}),Object(O.jsx)("td",{children:s.EmpContactNumber})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee Address"}),Object(O.jsx)("td",{children:s.EmpAddress})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee DOB"}),Object(O.jsx)("td",{children:s.EmpDOB})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee DQ"}),Object(O.jsx)("td",{children:s.EmployeeDQ})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee Certifications"}),Object(O.jsx)("td",{children:s.EmployeeCerts})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"Employee Qualification"}),Object(O.jsx)("td",{children:s.EmpQualification})]})]}),Object(O.jsx)("div",{className:"btn btn-primary float-right",onClick:function(){return window.history.back()},children:"Go back"})]})})}var y=n(4);n(66);function N(){var e=Object(c.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(m.a)(e,2),n=t[0],s=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),s(e.token)},token:n}}function D(){var e=sessionStorage.getItem("token");var t,n,s,a,o,r,l,i,d,j,b,p,h,u,x,g=Object(c.useState)({EmpId:"",EmpName:"",EmpDesignation:"",EmpMail:"",EmpContactNumber:"",EmpAddress:"",EmployeeCab:!1,EmpQualification:"",EmployeeDQ:"",EmpDOB:"",EmployeeCerts:"",User:"",Pass:""}),v=Object(m.a)(g,2),E=v[0],N=v[1];return Object(c.useEffect)((function(){f.a.get("https://employeeBackend.nandhagopalmadd.repl.co/GetLastId").then((function(e){var t=e.data.last+1;N(Object(y.a)(Object(y.a)({},E),{},{EmpId:t}))}))}),[]),'"Admin"'===e?Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h2",{children:"Add Employees"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Employee ID"}),Object(O.jsx)("input",{className:"form-control col-md-5",type:"text",disabled:!0,value:E.EmpId}),Object(O.jsx)("br",{})]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Name"}),Object(O.jsx)("input",{className:(null===(t=E.EmpName)||void 0===t?void 0:t.length)<=0?"form-control is-invalid col-md-5":"form-control col-md-5",type:"text",onChange:function(e){N(Object(y.a)(Object(y.a)({},E),{},{EmpName:e.target.value}))}}),Object(O.jsx)("br",{}),(null===(n=E.EmpName)||void 0===n?void 0:n.length)<=0?Object(O.jsx)("div",{className:"offset-md-4 col-md-4 text-danger",children:"Employee name cannot be empty"}):null]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Employee Mail"}),Object(O.jsx)("input",{className:"form-control col-md-5",type:"text",disabled:!0,value:E.EmpMail}),Object(O.jsx)("br",{}),(null===(s=E.EmpName)||void 0===s?void 0:s.length)>3?Object(O.jsx)("div",{onClick:function(){var e=E.EmpName.replace(" ",""),t=(e=e.length>10?e.slice(0,10):e)+"."+e[0]+"@EmpMgmt.com";N(Object(y.a)(Object(y.a)({},E),{},{User:t.split("@")[0],EmpMail:t})),console.log(E)},className:"offset-sm-1 btn btn-primary",children:"Generate MailID"}):null]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"DOB"}),Object(O.jsx)("input",{className:(null===(a=E.EmpDOB)||void 0===a?void 0:a.length)<=0?"form-control is-invalid col-md-5":"form-control col-md-5",type:"date",onChange:function(e){N(Object(y.a)(Object(y.a)({},E),{},{EmpDOB:new Date(e.target.value)}))}}),Object(O.jsx)("br",{}),(null===(o=E.EmpDOB)||void 0===o?void 0:o.length)<=0?Object(O.jsx)("div",{className:"offset-md-4 col-md-4 text-danger",children:"Employee Qualification cannot be empty"}):null]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Designation"}),Object(O.jsx)("input",{className:(null===(r=E.EmpDesignation)||void 0===r?void 0:r.length)<=0?"form-control is-invalid col-md-5":"form-control col-md-5",type:"text",onChange:function(e){N(Object(y.a)(Object(y.a)({},E),{},{EmpDesignation:e.target.value}))}}),Object(O.jsx)("br",{}),(null===(l=E.EmpDesignation)||void 0===l?void 0:l.length)<=0?Object(O.jsx)("div",{className:"offset-md-4 col-md-4 text-danger",children:"Employee Designation cannot be empty"}):null]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Contact No"}),Object(O.jsx)("input",{className:(null===(i=E.EmpContactNumber)||void 0===i?void 0:i.length)<=0?"form-control is-invalid col-md-5":"form-control col-md-5",type:"text",onChange:function(e){N(Object(y.a)(Object(y.a)({},E),{},{EmpContactNumber:e.target.value}))}}),Object(O.jsx)("br",{}),(null===(d=E.EmpContactNumber)||void 0===d?void 0:d.length)<=0?Object(O.jsx)("div",{className:"offset-md-4 col-md-4 text-danger",children:"Employee Contact cannot be empty"}):null]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Certifications"}),Object(O.jsx)("input",{className:(null===(j=E.EmployeeCerts)||void 0===j?void 0:j.length)<=0?"form-control is-invalid col-md-5":"form-control col-md-5",type:"text",placeholder:"ex:Angular,Nodejs,MongoDB",onChange:function(e){N(Object(y.a)(Object(y.a)({},E),{},{EmployeeCerts:e.target.value}))}}),Object(O.jsx)("br",{}),Object(O.jsx)("small",{children:"Enter your certifications , seperated"}),(null===(b=E.EmployeeCerts)||void 0===b?void 0:b.length)<=0?Object(O.jsx)("div",{className:"offset-md-4 col-md-4 text-danger",children:"Employee Contact cannot be empty"}):null]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Qualification"}),Object(O.jsx)("input",{className:(null===(p=E.EmpQualification)||void 0===p?void 0:p.length)<=0?"form-control is-invalid col-md-5":"form-control col-md-5",type:"text",onChange:function(e){N(Object(y.a)(Object(y.a)({},E),{},{EmpQualification:e.target.value}))}}),Object(O.jsx)("br",{}),(null===(h=E.EmpQualification)||void 0===h?void 0:h.length)<=0?Object(O.jsx)("div",{className:"offset-md-4 col-md-4 text-danger",children:"Employee Qualification cannot be empty"}):null]}),Object(O.jsxs)("div",{className:"form-group row",children:[Object(O.jsx)("p",{className:"col-md-2 offset-md-2",children:"Address"}),Object(O.jsx)("textarea",{className:(null===(u=E.EmpAddress)||void 0===u?void 0:u.length)<=0?"form-control is-invalid col-md-5":"form-control col-md-5",onChange:function(e){N(Object(y.a)(Object(y.a)({},E),{},{EmpAddress:e.target.value}))}}),Object(O.jsx)("br",{}),(null===(x=E.EmpAddress)||void 0===x?void 0:x.length)<=0?Object(O.jsx)("div",{className:"offset-md-4 col-md-4 text-danger",children:"Employee Address cannot be empty"}):null]})]}),Object(O.jsx)("div",{class:"btn btn-primary offset-sm-2",onClick:function(){return function(e){var t="EMP"+E.EmpId,n=E.EmployeeCerts.split(",").length;N(Object(y.a)(Object(y.a)({},E),{},{Pass:t,EmployeeDQ:10*n})),f.a.post("https://employeeBackend.nandhagopalmadd.repl.co/AddEmployee",{body:JSON.stringify(E)}).then((function(e){return console.log(e)}))}()},children:"Submit"}),Object(O.jsx)("div",{className:"btn btn-danger offset-md-6",onClick:function(){return window.history.back()},children:"Go back"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Unauthorized access"}),Object(O.jsx)("a",{href:"/login",children:"Back to login"})]})}function k(e){return w.apply(this,arguments)}function w(){return(w=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.post("https://employeeBackend.nandhagopalmadd.repl.co/login",{body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){var e=N(),t=(e.token,e.setToken),n=Object(c.useState)(),s=Object(m.a)(n,2),a=s[0],o=s[1],r=Object(c.useState)(),l=Object(m.a)(r,2),i=l[0],b=l[1],h=Object(c.useState)(),u=Object(m.a)(h,2),x=u[0],f=u[1],g=function(){var e=Object(j.a)(d.a.mark((function e(n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(a.length>0&&i.length>0)){e.next=6;break}return e.next=4,k({User:a,Pass:i});case 4:"bad"!==(c=e.sent).data.code?(t(c.data.token),"Employee"===c.data.token?p.push("/EmployeeDashboard"):p.push("/AdminDashboard"),sessionStorage.setItem("username",a),window.location.reload()):f(c.data.msg);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{children:"Login"}),Object(O.jsxs)("div",{className:"row justify-content-center",children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("form",{onSubmit:g,className:" align-items-center",children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Username"}),Object(O.jsx)("input",{className:(null===a||void 0===a?void 0:a.length)<=0?"form-control is-invalid":"form-control",type:"text",onChange:function(e){return o(e.target.value)}})]}),Object(O.jsx)("br",{}),(null===a||void 0===a?void 0:a.length)<=0?Object(O.jsx)("span",{className:"text-danger",children:"Username cannot be empty"}):null]}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("p",{children:"Password"}),Object(O.jsx)("input",{className:(null===i||void 0===i?void 0:i.length)<=0?"form-control is-invalid":"form-control",type:"password",onChange:function(e){return b(e.target.value)}})]}),Object(O.jsx)("br",{}),(null===i||void 0===i?void 0:i.length)<=0?Object(O.jsx)("span",{className:"text-danger",children:"password cannot be empty"}):null]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"btn btn-primary",children:" Submit "})}),Object(O.jsx)("span",{className:"text-danger",children:x})]})]})]})}n(67);var A=function(){return Object(O.jsx)("div",{className:"btn btn-danger float-right",onClick:function(){return console.log("log out clicked..."),void(window.confirm("Are you sure?")&&(sessionStorage.clear(),p.push("/Login"),window.location.reload()))},children:"Logout"})};var I=function(){var e=N(),t=(e.token,e.setToken,sessionStorage.getItem("token")),n=sessionStorage.getItem("username");return Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsxs)("nav",{class:"navbar navbar-dark bg-primary text-light",children:[Object(O.jsx)("h1",{className:"text-light",children:"Employee Management"}),(null===n||void 0===n?void 0:n.length)>0?Object(O.jsxs)("h2",{children:["Welcome ",n]}):null]}),Object(O.jsx)("div",{children:'"Admin"'===t||'"Employee"'===t?Object(O.jsx)(A,{}):null}),Object(O.jsx)(r.a,{children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{path:"/Login",render:function(){return'"Admin"'===t?Object(O.jsx)(l.a,{to:"/Admindashboard"}):'"Employee"'===t?Object(O.jsx)(l.a,{to:"/EmployeeDashboard"}):Object(O.jsx)(C,{})}}),Object(O.jsx)(l.b,{path:"/EmpDetails/:id",render:function(){return'"Employee"'===t||'"Admin"'===t?Object(O.jsx)(E,{}):Object(O.jsx)(l.a,{to:"/Login"})}}),Object(O.jsx)(l.b,{path:"/Admindashboard",render:function(){return'"Admin"'===t?Object(O.jsx)(g,{}):Object(O.jsx)(l.a,{to:"/Login"})}}),Object(O.jsx)(l.b,{path:"/AddEmployee",render:function(){return'"Admin"'===t?Object(O.jsx)(D,{}):Object(O.jsx)(l.a,{to:"/Login"})}}),Object(O.jsx)(l.b,{path:"/EmployeeDashboard",render:function(){return'"Employee"'===t||'"Admin"'===t?Object(O.jsx)(u,{}):Object(O.jsx)(l.a,{to:"/Login"})}}),Object(O.jsx)(l.b,{path:"/",children:Object(O.jsx)(l.a,{to:"/Login"})})]})})]})},S=(n(68),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))});o.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(I,{})}),document.getElementById("root")),S()}},[[69,1,2]]]);
//# sourceMappingURL=main.69375e33.chunk.js.map